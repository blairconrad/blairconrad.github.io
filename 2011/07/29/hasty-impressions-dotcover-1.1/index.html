<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Blair Conrad" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=".NET, coverage, dotCover, HastyImpressions, IIS, Isolator, MightyMoose, Testing, TypeMock, Development, " />

<meta property="og:title" content="Hasty Impressions: dotCover 1.1 "/>
<meta property="og:url" content="https://blairconrad.com/2011/07/29/hasty-impressions-dotcover-1.1/" />
<meta property="og:description" content="I tried JetBrains dotCover 1.1, integrated with ReSharper 5.1 running in VS2008. The Cost A lifetime license, with 1 year of free upgrades is $199 $149 - a special introductory price. This isn&#39;t usurious, but considering that ReSharper C# edition, a tool that changes the way I work every …" />
<meta property="og:site_name" content="Blair Conrad" />
<meta property="og:article:author" content="Blair Conrad" />
<meta property="og:article:published_time" content="2011-07-29T00:00:00-04:00" />
<meta name="twitter:title" content="Hasty Impressions: dotCover 1.1 ">
<meta name="twitter:description" content="I tried JetBrains dotCover 1.1, integrated with ReSharper 5.1 running in VS2008. The Cost A lifetime license, with 1 year of free upgrades is $199 $149 - a special introductory price. This isn&#39;t usurious, but considering that ReSharper C# edition, a tool that changes the way I work every …">

        <title>Hasty Impressions: dotCover 1.1  · Blair Conrad
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://blairconrad.com/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://blairconrad.com/theme/css/custom.css" media="screen">

        <link href="https://blairconrad.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Blair Conrad - Full Atom Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://blairconrad.com/"><span class=site-name>Blair Conrad</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://blairconrad.com
                                    >Home</a>
                                </li>
                                <li ><a href="https://blairconrad.com/categories.html">Categories</a></li>
                                <li ><a href="https://blairconrad.com/tags.html">Tags</a></li>
                                <li ><a href="https://blairconrad.com/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="https://blairconrad.com/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://blairconrad.com/2011/07/29/hasty-impressions-dotcover-1.1/">
                Hasty Impressions&#58; dotCover 1.1
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>I tried <a href="http://www.jetbrains.com/dotcover/">JetBrains dotCover</a> 1.1, integrated with ReSharper 5.1 running in VS2008.
<h2>The Cost</h2>
A lifetime license, with 1 year of free upgrades is <s>$199</s> $149 - a special introductory price.</p>
<p>This isn't usurious, but considering that ReSharper C# edition, a tool that changes the way I work every single day, is $249, it's enough.
<h2>VS integration</h2></p>
<p><a href="https://blairconrad.com/images/cover_with_dotcover2.png"><img style="margin-right:1em;" title="cover with dotCover" src="https://blairconrad.com/images/cover_with_dotcover2.png" alt="cover with dotCover" width="174" height="170" align="left" /></a></p>
<p>This is where I expected dotCover to shine, and it didn't disappoint - the <strong>integration with Visual Studio (and with ReSharper) was excellent</strong>. The first thing I noticed was an extra "Cover with dotCover" item in the ReSharper test menu (triggered from the yellow and green ball things). I clicked it, and it ran my tests, bringing up the familiar Unit Test results window.</p>
<p>Once the tests ran, there was pause while dotCover calculated the coverage info, and then the bottom pane filled in with coverage results: green/red bars by every method in the covered assemblies. Clicking on the methods warps to the source code, which is also highlighted - covered statements have a green background, and uncovered statements have red. In fact, every source file opened in the IDE has the highlighting.</p>
<p><a href="https://blairconrad.com/images/doccover_bookfinder.png"><img title="dotCover BookFinder tests" src="https://blairconrad.com/images/doccover_bookfinder.png?w=300" alt="dotCover BookFinder tests" width="300" height="233" align="top" /></a><a href="https://blairconrad.com/images/dotcover_covered.png"><img title="dotCover_covered" src="https://blairconrad.com/images/dotcover_covered.png?w=300" alt="dotCover covered" width="300" height="187" align="top" /></a>
<h3>Finding tests that cover code</h3>
The most interesting feature that dotCover has is the ability to identify which tests covered which lines of code. I'm not entirely sold on this, thinking it more of a gimmick than anything else. When I first heard about it, I thought "I don't care which test covered which line, so long as the lines are covered. I'm here to see what <em>isn't</em> covered.". Yes, I think in italics sometimes.</p>
<p><a href="https://blairconrad.com/images/dotcover_show_covering_tests.png"><img style="margin-left:1em;margin-bottom:1em;" title="dotCover_show_covering_tests" src="https://blairconrad.com/images/dotcover_show_covering_tests.png" alt="dotCover showing covering tests" width="278" height="140" align="right" /></a>Still, I gave it a go. Right-clicking on a line of code (once coverage has been run) brought up a tiny menu full of covered lines of code. I don't know why, but it made me happy. I suppose one could use this from time to time to make sure a new test case is exercising what it's supposed to, but normally I can tell that by how a new test fails, or by what I've typed just before the test starts working. Worst case, I could always debug through a single test - something made very easy by the ReSharper test runner.</p>
<p><a href="https://blairconrad.com/images/dotcover_covering_tests.png"><img class="alignright size-medium wp-image-1080" title="dotCover_covering_tests" alt="dotCover running covering tests" src="https://blairconrad.com/images/dotcover_covering_tests.png" /></a>
There was one aspect of this feature that I could imagine someone using - the ability to <strong>run the tests</strong> that cover a line of code. All that's needed is to hit the "play" button on the "Show Covering Tests" popup. If the full suite of tests takes a very long time to run, this could be useful. Still, it doesn't do much for me personally - if my tests took that long to run, I'd try speed them up. If nothing else, I would probably just run the test fixture designed to test the class or method in question, instead of my entire bolus of tests.</p>
<p>So, running tests that cover some code is a cool feature, but it's <strong>not that useful</strong>. I'd rather see something like the automatic test runs and really cool "what's covered" information provided by <a href="http://continuoustests.com/">Mighty-Moose</a>.
<h2>Command Line Execution</h2>
Covering an application from the command line is <b>pretty straightforward</b>. I used this command to see what code my BookFinder unit tests exercised:
<pre><code class="bat">dotcover cover /TargetExecutable=nunit-console.exe /TargetArguments=.\BookFinder.Tests.dll /Output=dotCoverOutput /Filters=+:BookFinder.Core</code></pre>
BookFinder.Core is the only assembly I was interested in - it holds the business logic. "cover" takes multiple include and exclude filters, even using wildcards for assemblies, classes, and methods.</p>
<p>One quite cool feature is to use the <b>help subcommand to generate an XML configuration file</b>, which can be used to specify the parameters for the <code>cover</code> command:
<pre><code class="bat">dotCover help cover coverSettings.xml</code></pre>
will create a <code>coverSettings.xml</code> file that can be edited to specify the executable, arguments, and filters. Then use it like so:
<pre><code class="bat">dotCover cover coverSettings.xml</code></pre> without having to specify the same batch of parameters all the time.</p>
<h2>Joining Coverage Runs</h2>

<p>Multiple coverage snapshots - perhaps from running tests on different assemblies, or just from performing different test runs on the same application - <b>can be merged together</b> into a comprehensive snapshot:
<pre><code class="bat">dotCover merge /Source snapshot1;snapshot2 /Output mergedsnapshot</code></pre>
Just include all the snapshots, separated by semicolons. 
<h2>XML Report</h2>
After generating snapshots and optionally merging them, they can be  <b>turned into an XML report using the report command</b>:</p>
<pre><code class="bat">dotcover report /Source=.\dotCoverOutput /Output=coverageReport.xml</code></pre>

<p>There are options to generate <b>HTML</b> and <b>JSON</b> as well.</p>
<p>Note that if there's only one snapshot, the "merge" step is not needed. In fact, there's even a separate <code>analyse</code> command that will cover and generate a report in one go.</p>
<h2>No Auto-Deploy</h2>

<p>There's no auto-deploy for dotCover - <strong>it needs to be installed</strong>. And since it's a plugin, <strong>Visual Studio is a requirement</strong>. This is a small inconvenience for developers and our build servers. Having to put VS on all our test machines is a bit of a bigger deal - definitely a strike against dotCover.</p>
<h2>TypeMock Isolator support in the future</h2>

<p>The dotCover 1.1 doesn't integrate with Isolator 6. Apparently dotCover's hooks are a little different than many other profiles (nCover, PartCover, …). I've been talking to representatives from both TypeMock and JetBrains, though, and they tell me that the problem is solved, and an upcoming release of Isolator will integrate with dotCover. <a href="http://forums.typemock.com/viewtopic.php?p=8528">Even better, a pre-release version that supports the latest dotCover EAP is available now</a>.
<h2>IIS</h2>
dotCover <b>covers IIS, but only by using the plugin</b> - this means that the web server has to have Visual Studio and dotCover installed, and it's a manual step to invoke the coverage. In the JetBrains developer community there's a <a href="http://devnet.jetbrains.net/thread/30319">discussion about command-line IIS support</a>, but no word from JetBrains staff on when this might come.</p>
<h2>Statement-level coverage</h2>

<p>As <a href="http://vcsjones.com/2011/01/03/dotcover-inaccurate-or-misunderstood/">Kevin Jones notes</a>, dotCover reports coverage of statements coverage, not sequence points. This means that a line like this:
<pre><code class="bat">return value &gt; 10
      ? Colors.Red
      : Colors.White;</code></pre> 
Will report as completely covered, even if it's executed only once - in order to ensure an accurate coverage report for this idea, the <code>?:</code> would have to be replaced by an if-else block.
This isn't necessarily a major strike against the tool, but it's worth knowing, as it will skew the results somewhat.</p>
<h2>Conclusion</h2>

<p><b>Pros:</b>
<ul>
<li>awesome IDE integration</li>
<li>XML/HTML/JSON reports</li>
<li>report merging</li>
<li>IIS profiling</li>
</ul>
<b>Cons:</b>
<ul>
<li>moderate price</li>
<li>no auto-deploy</li>
<li>no Isolator support&mdash;yet</li>
</ul></p>
<p>Overall, I like the tool. I'm a little disappointed by the lack of auto-deploy and the inability to run IIS coverage from the command line, but those problems can be worked around. I was very impressed with the in-IDE support as well as the automatically generated configuration files using the "help" subcommand.
Ordinarily, the I'd say the current lack of Isolator support is a deal-breaker, but I recently demoed the product to some colleagues, and <b>they went bonkers for the IDE integration</b>. I guess I'll be writing JetBrains and TypeMock looking for the betas. </p>


             
 
            
            
            






            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://blairconrad.com/2011/07/18/can-you-cover-me-looking-for-a-.net-coverage-tool/" title="Previous: Can you cover me? Looking for a .NET coverage tool">Can you cover me? Looking for a .NET coverage tool</a></li>
                <li class="next-article"><a href="https://blairconrad.com/2011/08/05/hasty-impressions-partcover/" title="Next: Hasty Impressions: PartCover">Hasty Impressions: PartCover</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2011-07-29T00:00:00-04:00">2011-07-29</time>
        <h4>.NET Coverage Tools</h4>
    <ul class="multi-parts-list">
            <li >
            <a href="https://blairconrad.com/2011/07/18/can-you-cover-me-looking-for-a-.net-coverage-tool/" title="Can you cover me&#63; Looking for a .NET coverage tool">Part 1: Can you cover me&#63; Looking for a .NET coverage tool</a>
            </li>
            <li  class="active-part">
            Part 2: Hasty Impressions&#58; dotCover 1.1
            </li>
            <li >
            <a href="https://blairconrad.com/2011/08/05/hasty-impressions-partcover/" title="Hasty Impressions&#58; PartCover">Part 3: Hasty Impressions&#58; PartCover</a>
            </li>
            <li >
            <a href="https://blairconrad.com/2011/08/15/hasty-impressions-opencover/" title="Hasty Impressions&#58; OpenCover">Part 4: Hasty Impressions&#58; OpenCover</a>
            </li>
            <li >
            <a href="https://blairconrad.com/2011/11/09/hasty-impressions-ncover/" title="Hasty Impressions&#58; NCover">Part 5: Hasty Impressions&#58; NCover</a>
            </li>
            <li >
            <a href="https://blairconrad.com/2011/12/15/best-all-around-.net-coverage-tool-opencover/" title="Best all-around .NET coverage tool - OpenCover">Part 6: Best all-around .NET coverage tool - OpenCover</a>
            </li>
    </ul>
            <h4>Category</h4>
            <a class="category-link" href="https://blairconrad.com/categories.html#development-ref">Development</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://blairconrad.com/tags.html#.net-ref">.NET
                    <span>16</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#coverage-ref">coverage
                    <span>7</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#dotcover-ref">dotCover
                    <span>1</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#hastyimpressions-ref">HastyImpressions
                    <span>5</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#iis-ref">IIS
                    <span>4</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#isolator-ref">Isolator
                    <span>5</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#mightymoose-ref">MightyMoose
                    <span>1</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#testing-ref">Testing
                    <span>10</span>
</a></li>
                <li><a href="https://blairconrad.com/tags.html#typemock-ref">TypeMock
                    <span>5</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
    <a href="http://github.com/blairconrad" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="http://twitter.com/hippopottoman" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
    </a>
    <a href="https://www.goodreads.com/user/show/1066544-blair-conrad" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg"><rect fill="#EAE6CF" height="512" rx="64" width="512"/><path d="m254.92444 336.92444c43.2889-.36 74.07112-22.01333 92.33334-64.95111h.95556v65.48889c0 4.88-.32 12.44889-.95556 22.73333-1.30222 10.64445-4.78222 22.10223-10.42666 34.36889-5.65778 11.54667-14.79112 21.38667-27.37778 29.49778-12.44889 8.84-29.81778 13.44-52.12001 13.80444-21.48444 0-39.65333-5.59555-54.52444-16.77777-15.2-11.00889-24.08001-28.87111-26.65778-53.58667h-18.89778c1.93778 32.11111 12.18667 55.02667 30.76444 68.74222 18.08889 13.16445 41.04001 19.75556 68.83556 19.75556 27.45778 0 48.87112-5.14223 64.21778-15.43111 15.18223-9.92 26.08445-22.28445 32.71556-37.08 6.62222-14.79111 10.58222-28.86667 11.86667-42.21334.98222-13.35555 1.45778-22.91555 1.45778-28.68889v-270.088875h-18.90667v59.537775h-.95556c-7.27555-21.82667-19.30666-38.333335-36.12-49.524445-16.96-11.00445-35.70222-16.51111-56.21333-16.51111-35.72001.72444-62.85779 14.52444-81.43112 41.40889-19.07111 26.697775-28.59556 59.631105-28.59556 98.782195 0 40.23557 9.04445 73.52001 27.13334 99.86224 18.27555 26.88889 45.89778 40.51111 82.90222 40.87111zm-68.34222-224.89777c14.85333-24.359995 37.63111-36.986665 68.34222-37.888885 31.50223.90666 54.83556 13.17333 70.03556 36.808885 15.18223 23.64 22.77778 52.05331 22.77778 85.25331s-7.59555 61.43112-22.77778 84.70668c-15.2 24.72444-38.53333 37.34667-70.03556 37.88889-29.72889-.54667-52.36-12.81778-67.86222-36.80889-15.67556-23.27556-23.50667-51.87112-23.50667-85.79112-.004-31.75556 7.67111-59.81332 23.02667-84.16887z" fill="#743901"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>